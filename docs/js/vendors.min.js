!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).GlslCanvas=e()}}(function(){return function i(a,s,l){function u(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(c)return c(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return u(t||e)},o,o.exports,i,a,s,l)}return s[n].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,n){t.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":12}],2:[function(e,t,n){t.exports={default:e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":13}],3:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":14}],4:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":15}],5:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":16}],6:[function(e,t,n){t.exports={default:e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":17}],7:[function(e,t,n){t.exports={default:e("core-js/library/fn/set"),__esModule:!0}},{"core-js/library/fn/set":18}],8:[function(e,t,n){"use strict";n.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n.__esModule=!0},{}],9:[function(e,t,n){"use strict";var o=e("babel-runtime/core-js/object/define-property").default;n.default=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),n.__esModule=!0},{"babel-runtime/core-js/object/define-property":4}],10:[function(e,t,n){"use strict";n.default=function(e){return e&&e.__esModule?e:{default:e}},n.__esModule=!0},{}],11:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/array/from").default;n.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return r(e)},n.__esModule=!0},{"babel-runtime/core-js/array/from":1}],12:[function(e,t,n){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/$.core").Array.from},{"../../modules/$.core":27,"../../modules/es6.array.from":74,"../../modules/es6.string.iterator":81}],13:[function(e,t,n){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":73,"../modules/es6.string.iterator":81,"../modules/web.dom.iterable":83}],14:[function(e,t,n){e("../../modules/es6.object.assign"),t.exports=e("../../modules/$.core").Object.assign},{"../../modules/$.core":27,"../../modules/es6.object.assign":76}],15:[function(e,t,n){var r=e("../../modules/$");t.exports=function(e,t,n){return r.setDesc(e,t,n)}},{"../../modules/$":49}],16:[function(e,t,n){e("../../modules/es6.object.keys"),t.exports=e("../../modules/$.core").Object.keys},{"../../modules/$.core":27,"../../modules/es6.object.keys":77}],17:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/$.core").Promise},{"../modules/$.core":27,"../modules/es6.object.to-string":78,"../modules/es6.promise":79,"../modules/es6.string.iterator":81,"../modules/web.dom.iterable":83}],18:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.set"),e("../modules/es7.set.to-json"),t.exports=e("../modules/$.core").Set},{"../modules/$.core":27,"../modules/es6.object.to-string":78,"../modules/es6.set":80,"../modules/es6.string.iterator":81,"../modules/es7.set.to-json":82,"../modules/web.dom.iterable":83}],19:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],20:[function(e,t,n){t.exports=function(){}},{}],21:[function(e,t,n){var r=e("./$.is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":42}],22:[function(e,t,n){var o=e("./$.cof"),i=e("./$.wks")("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[i])?n:a?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},{"./$.cof":23,"./$.wks":71}],23:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],24:[function(e,t,n){"use strict";var a=e("./$"),r=e("./$.hide"),s=e("./$.redefine-all"),l=e("./$.ctx"),u=e("./$.strict-new"),c=e("./$.defined"),d=e("./$.for-of"),o=e("./$.iter-define"),i=e("./$.iter-step"),f=e("./$.uid")("id"),h=e("./$.has"),p=e("./$.is-object"),_=e("./$.set-species"),m=e("./$.descriptors"),g=Object.isExtensible||p,b=m?"_s":"size",v=0,y=function(e,t){if(!p(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!h(e,f)){if(!g(e))return"F";if(!t)return"E";r(e,f,++v)}return"O"+e[f]},x=function(e,t){var n,r=y(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};t.exports={getConstructor:function(e,n,r,o){var i=e(function(e,t){u(e,i,n),e._i=a.create(null),e._f=void 0,e._l=void 0,e[b]=0,null!=t&&d(t,r,e[o],e)});return s(i.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[b]=0},delete:function(e){var t=this,n=x(t,e);if(n){var r=n.n,o=n.p;delete t._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),t._f==n&&(t._f=r),t._l==n&&(t._l=o),t[b]--}return!!n},forEach:function(e){for(var t,n=l(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!x(this,e)}}),m&&a.setDesc(i.prototype,"size",{get:function(){return c(this[b])}}),i},def:function(e,t,n){var r,o,i=x(e,t);return i?i.v=n:(e._l=i={i:o=y(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[b]++,"F"!==o&&(e._i[o]=i)),e},getEntry:x,setStrong:function(e,t,n){o(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?i(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,i(1))},n?"entries":"values",!n,!0),_(t)}}},{"./$":49,"./$.ctx":28,"./$.defined":29,"./$.descriptors":30,"./$.for-of":34,"./$.has":36,"./$.hide":37,"./$.is-object":42,"./$.iter-define":45,"./$.iter-step":47,"./$.redefine-all":55,"./$.set-species":59,"./$.strict-new":63,"./$.uid":70}],25:[function(e,t,n){var r=e("./$.for-of"),o=e("./$.classof");t.exports=function(t){return function(){if(o(this)!=t)throw TypeError(t+"#toJSON isn't generic");var e=[];return r(this,!1,e.push,e),e}}},{"./$.classof":22,"./$.for-of":34}],26:[function(e,t,n){"use strict";var d=e("./$"),f=e("./$.global"),h=e("./$.export"),p=e("./$.fails"),_=e("./$.hide"),m=e("./$.redefine-all"),g=e("./$.for-of"),b=e("./$.strict-new"),v=e("./$.is-object"),y=e("./$.set-to-string-tag"),x=e("./$.descriptors");t.exports=function(n,e,t,r,o,i){var a=f[n],s=a,l=o?"set":"add",u=s&&s.prototype,c={};return x&&"function"==typeof s&&(i||u.forEach&&!p(function(){(new s).entries().next()}))?(s=e(function(e,t){b(e,s,n),e._c=new a,null!=t&&g(t,o,e[l],e)}),d.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(r){var o="add"==r||"set"==r;r in u&&(!i||"clear"!=r)&&_(s.prototype,r,function(e,t){if(!o&&i&&!v(e))return"get"==r&&void 0;var n=this._c[r](0===e?0:e,t);return o?this:n})}),"size"in u&&d.setDesc(s.prototype,"size",{get:function(){return this._c.size}})):(s=r.getConstructor(e,n,o,l),m(s.prototype,t)),y(s,n),c[n]=s,h(h.G+h.W+h.F,c),i||r.setStrong(s,n,o),s}},{"./$":49,"./$.descriptors":30,"./$.export":32,"./$.fails":33,"./$.for-of":34,"./$.global":35,"./$.hide":37,"./$.is-object":42,"./$.redefine-all":55,"./$.set-to-string-tag":60,"./$.strict-new":63}],27:[function(e,t,n){var r=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=r)},{}],28:[function(e,t,n){var i=e("./$.a-function");t.exports=function(r,o,e){if(i(r),void 0===o)return r;switch(e){case 1:return function(e){return r.call(o,e)};case 2:return function(e,t){return r.call(o,e,t)};case 3:return function(e,t,n){return r.call(o,e,t,n)}}return function(){return r.apply(o,arguments)}}},{"./$.a-function":19}],29:[function(e,t,n){t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],30:[function(e,t,n){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":33}],31:[function(e,t,n){var r=e("./$.is-object"),o=e("./$.global").document,i=r(o)&&r(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./$.global":35,"./$.is-object":42}],32:[function(e,t,n){var p=e("./$.global"),_=e("./$.core"),m=e("./$.ctx"),g="prototype",b=function(e,t,n){var r,o,i,a=e&b.F,s=e&b.G,l=e&b.S,u=e&b.P,c=e&b.B,d=e&b.W,f=s?_:_[t]||(_[t]={}),h=s?p:l?p[t]:(p[t]||{})[g];for(r in s&&(n=t),n)(o=!a&&h&&r in h)&&r in f||(i=o?h[r]:n[r],f[r]=s&&"function"!=typeof h[r]?n[r]:c&&o?m(i,p):d&&h[r]==i?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e[g]=t[g],e}(i):u&&"function"==typeof i?m(Function.call,i):i,u&&((f[g]||(f[g]={}))[r]=i))};b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,t.exports=b},{"./$.core":27,"./$.ctx":28,"./$.global":35}],33:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],34:[function(e,t,n){var c=e("./$.ctx"),d=e("./$.iter-call"),f=e("./$.is-array-iter"),h=e("./$.an-object"),p=e("./$.to-length"),_=e("./core.get-iterator-method");t.exports=function(e,t,n,r){var o,i,a,s=_(e),l=c(n,r,t?2:1),u=0;if("function"!=typeof s)throw TypeError(e+" is not iterable!");if(f(s))for(o=p(e.length);u<o;u++)t?l(h(i=e[u])[0],i[1]):l(e[u]);else for(a=s.call(e);!(i=a.next()).done;)d(a,l,i.value,t)}},{"./$.an-object":21,"./$.ctx":28,"./$.is-array-iter":41,"./$.iter-call":43,"./$.to-length":68,"./core.get-iterator-method":72}],35:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],36:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],37:[function(e,t,n){var r=e("./$"),o=e("./$.property-desc");t.exports=e("./$.descriptors")?function(e,t,n){return r.setDesc(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},{"./$":49,"./$.descriptors":30,"./$.property-desc":54}],38:[function(e,t,n){t.exports=e("./$.global").document&&document.documentElement},{"./$.global":35}],39:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],40:[function(e,t,n){var r=e("./$.cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./$.cof":23}],41:[function(e,t,n){var r=e("./$.iterators"),o=e("./$.wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},{"./$.iterators":48,"./$.wks":71}],42:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],43:[function(e,t,n){var i=e("./$.an-object");t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},{"./$.an-object":21}],44:[function(e,t,n){"use strict";var r=e("./$"),o=e("./$.property-desc"),i=e("./$.set-to-string-tag"),a={};e("./$.hide")(a,e("./$.wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r.create(a,{next:o(1,n)}),i(e,t+" Iterator")}},{"./$":49,"./$.hide":37,"./$.property-desc":54,"./$.set-to-string-tag":60,"./$.wks":71}],45:[function(e,t,n){"use strict";var g=e("./$.library"),b=e("./$.export"),v=e("./$.redefine"),y=e("./$.hide"),x=e("./$.has"),w=e("./$.iterators"),E=e("./$.iter-create"),A=e("./$.set-to-string-tag"),T=e("./$").getProto,$=e("./$.wks")("iterator"),S=!([].keys&&"next"in[].keys()),C="@@iterator",k="values",j=function(){return this};t.exports=function(e,t,n,r,o,i,a){E(n,t,r);var s,l,u=function(e){if(!S&&e in h)return h[e];switch(e){case"keys":case k:return function(){return new n(this,e)}}return function(){return new n(this,e)}},c=t+" Iterator",d=o==k,f=!1,h=e.prototype,p=h[$]||h[C]||o&&h[o],_=p||u(o);if(p){var m=T(_.call(new e));A(m,c,!0),!g&&x(h,C)&&y(m,$,j),d&&p.name!==k&&(f=!0,_=function(){return p.call(this)})}if(g&&!a||!S&&!f&&h[$]||y(h,$,_),w[t]=_,w[c]=j,o)if(s={values:d?_:u(k),keys:i?_:u("keys"),entries:d?u("entries"):_},a)for(l in s)l in h||v(h,l,s[l]);else b(b.P+b.F*(S||f),t,s);return s}},{"./$":49,"./$.export":32,"./$.has":36,"./$.hide":37,"./$.iter-create":44,"./$.iterators":48,"./$.library":50,"./$.redefine":56,"./$.set-to-string-tag":60,"./$.wks":71}],46:[function(e,t,n){var i=e("./$.wks")("iterator"),a=!1;try{var r=[7][i]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],o=r[i]();o.next=function(){return{done:n=!0}},r[i]=function(){return o},e(r)}catch(e){}return n}},{"./$.wks":71}],47:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],48:[function(e,t,n){t.exports={}},{}],49:[function(e,t,n){var r=Object;t.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},{}],50:[function(e,t,n){t.exports=!0},{}],51:[function(e,t,n){var r,o,i,a=e("./$.global"),s=e("./$.task").set,l=a.MutationObserver||a.WebKitMutationObserver,u=a.process,c=a.Promise,d="process"==e("./$.cof")(u),f=function(){var e,t,n;for(d&&(e=u.domain)&&(u.domain=null,e.exit());r;)t=r.domain,n=r.fn,t&&t.enter(),n(),t&&t.exit(),r=r.next;o=void 0,e&&e.enter()};if(d)i=function(){u.nextTick(f)};else if(l){var h=1,p=document.createTextNode("");new l(f).observe(p,{characterData:!0}),i=function(){p.data=h=-h}}else i=c&&c.resolve?function(){c.resolve().then(f)}:function(){s.call(a,f)};t.exports=function(e){var t={fn:e,next:void 0,domain:d&&u.domain};o&&(o.next=t),r||(r=t,i()),o=t}},{"./$.cof":23,"./$.global":35,"./$.task":65}],52:[function(e,t,n){var p=e("./$"),_=e("./$.to-object"),m=e("./$.iobject");t.exports=e("./$.fails")(function(){var e=Object.assign,t={},n={},r=Symbol(),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach(function(e){n[e]=e}),7!=e({},t)[r]||Object.keys(e({},n)).join("")!=o})?function(e,t){for(var n=_(e),r=arguments,o=r.length,i=1,a=p.getKeys,s=p.getSymbols,l=p.isEnum;i<o;)for(var u,c=m(r[i++]),d=s?a(c).concat(s(c)):a(c),f=d.length,h=0;h<f;)l.call(c,u=d[h++])&&(n[u]=c[u]);return n}:Object.assign},{"./$":49,"./$.fails":33,"./$.iobject":40,"./$.to-object":69}],53:[function(e,t,n){var o=e("./$.export"),i=e("./$.core"),a=e("./$.fails");t.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],r={};r[e]=t(n),o(o.S+o.F*a(function(){n(1)}),"Object",r)}},{"./$.core":27,"./$.export":32,"./$.fails":33}],54:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],55:[function(e,t,n){var r=e("./$.redefine");t.exports=function(e,t){for(var n in t)r(e,n,t[n]);return e}},{"./$.redefine":56}],56:[function(e,t,n){t.exports=e("./$.hide")},{"./$.hide":37}],57:[function(e,t,n){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],58:[function(t,e,n){var o=t("./$").getDesc,r=t("./$.is-object"),i=t("./$.an-object"),a=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=t("./$.ctx")(Function.call,o(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return a(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:a}},{"./$":49,"./$.an-object":21,"./$.ctx":28,"./$.is-object":42}],59:[function(e,t,n){"use strict";var r=e("./$.core"),o=e("./$"),i=e("./$.descriptors"),a=e("./$.wks")("species");t.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.setDesc(t,a,{configurable:!0,get:function(){return this}})}},{"./$":49,"./$.core":27,"./$.descriptors":30,"./$.wks":71}],60:[function(e,t,n){var r=e("./$").setDesc,o=e("./$.has"),i=e("./$.wks")("toStringTag");t.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},{"./$":49,"./$.has":36,"./$.wks":71}],61:[function(e,t,n){var r=e("./$.global"),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./$.global":35}],62:[function(e,t,n){var o=e("./$.an-object"),i=e("./$.a-function"),a=e("./$.wks")("species");t.exports=function(e,t){var n,r=o(e).constructor;return void 0===r||null==(n=o(r)[a])?t:i(n)}},{"./$.a-function":19,"./$.an-object":21,"./$.wks":71}],63:[function(e,t,n){t.exports=function(e,t,n){if(!(e instanceof t))throw TypeError(n+": use the 'new' operator!");return e}},{}],64:[function(e,t,n){var l=e("./$.to-integer"),u=e("./$.defined");t.exports=function(s){return function(e,t){var n,r,o=String(u(e)),i=l(t),a=o.length;return i<0||a<=i?s?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?s?o.charAt(i):n:s?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}}},{"./$.defined":29,"./$.to-integer":66}],65:[function(e,t,n){var r,o,i,a=e("./$.ctx"),s=e("./$.invoke"),l=e("./$.html"),u=e("./$.dom-create"),c=e("./$.global"),d=c.process,f=c.setImmediate,h=c.clearImmediate,p=c.MessageChannel,_=0,m={},g="onreadystatechange",b=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},v=function(e){b.call(e.data)};f&&h||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++_]=function(){s("function"==typeof e?e:Function(e),t)},r(_),_},h=function(e){delete m[e]},"process"==e("./$.cof")(d)?r=function(e){d.nextTick(a(b,e,1))}:p?(i=(o=new p).port2,o.port1.onmessage=v,r=a(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",v,!1)):r=g in u("script")?function(e){l.appendChild(u("script"))[g]=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),t.exports={set:f,clear:h}},{"./$.cof":23,"./$.ctx":28,"./$.dom-create":31,"./$.global":35,"./$.html":38,"./$.invoke":39}],66:[function(e,t,n){var r=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?o:r)(e)}},{}],67:[function(e,t,n){var r=e("./$.iobject"),o=e("./$.defined");t.exports=function(e){return r(o(e))}},{"./$.defined":29,"./$.iobject":40}],68:[function(e,t,n){var r=e("./$.to-integer"),o=Math.min;t.exports=function(e){return 0<e?o(r(e),9007199254740991):0}},{"./$.to-integer":66}],69:[function(e,t,n){var r=e("./$.defined");t.exports=function(e){return Object(r(e))}},{"./$.defined":29}],70:[function(e,t,n){var r=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+o).toString(36))}},{}],71:[function(e,t,n){var r=e("./$.shared")("wks"),o=e("./$.uid"),i=e("./$.global").Symbol;t.exports=function(e){return r[e]||(r[e]=i&&i[e]||(i||o)("Symbol."+e))}},{"./$.global":35,"./$.shared":61,"./$.uid":70}],72:[function(e,t,n){var r=e("./$.classof"),o=e("./$.wks")("iterator"),i=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},{"./$.classof":22,"./$.core":27,"./$.iterators":48,"./$.wks":71}],73:[function(e,t,n){var r=e("./$.an-object"),o=e("./core.get-iterator-method");t.exports=e("./$.core").getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},{"./$.an-object":21,"./$.core":27,"./core.get-iterator-method":72}],74:[function(e,t,n){"use strict";var h=e("./$.ctx"),r=e("./$.export"),p=e("./$.to-object"),_=e("./$.iter-call"),m=e("./$.is-array-iter"),g=e("./$.to-length"),b=e("./core.get-iterator-method");r(r.S+r.F*!e("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,o,i=p(e),a="function"==typeof this?this:Array,s=arguments,l=s.length,u=1<l?s[1]:void 0,c=void 0!==u,d=0,f=b(i);if(c&&(u=h(u,2<l?s[2]:void 0,2)),null==f||a==Array&&m(f))for(n=new a(t=g(i.length));d<t;d++)n[d]=c?u(i[d],d):i[d];else for(o=f.call(i),n=new a;!(r=o.next()).done;d++)n[d]=c?_(o,u,[r.value,d],!0):r.value;return n.length=d,n}})},{"./$.ctx":28,"./$.export":32,"./$.is-array-iter":41,"./$.iter-call":43,"./$.iter-detect":46,"./$.to-length":68,"./$.to-object":69,"./core.get-iterator-method":72}],75:[function(e,t,n){"use strict";var r=e("./$.add-to-unscopables"),o=e("./$.iter-step"),i=e("./$.iterators"),a=e("./$.to-iobject");t.exports=e("./$.iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},{"./$.add-to-unscopables":20,"./$.iter-define":45,"./$.iter-step":47,"./$.iterators":48,"./$.to-iobject":67}],76:[function(e,t,n){var r=e("./$.export");r(r.S+r.F,"Object",{assign:e("./$.object-assign")})},{"./$.export":32,"./$.object-assign":52}],77:[function(e,t,n){var r=e("./$.to-object");e("./$.object-sap")("keys",function(t){return function(e){return t(r(e))}})},{"./$.object-sap":53,"./$.to-object":69}],78:[function(e,t,n){},{}],79:[function(r,e,t){"use strict";var o,l=r("./$"),i=r("./$.library"),u=r("./$.global"),a=r("./$.ctx"),n=r("./$.classof"),s=r("./$.export"),c=r("./$.is-object"),d=r("./$.an-object"),f=r("./$.a-function"),h=r("./$.strict-new"),p=r("./$.for-of"),_=r("./$.set-proto").set,m=r("./$.same-value"),g=r("./$.wks")("species"),b=r("./$.species-constructor"),v=r("./$.microtask"),y="Promise",x=u.process,w="process"==n(x),E=u[y],A=function(){},T=function(e){var t,n=new E(A);return e&&(n.constructor=function(e){e(A,A)}),(t=E.resolve(n)).catch(A),t===n},$=function(){var t=!1;function n(e){var t=new E(e);return _(t,n.prototype),t}try{if(t=E&&E.resolve&&T(),_(n,E),n.prototype=l.create(E.prototype,{constructor:{value:n}}),n.resolve(5).then(function(){})instanceof n||(t=!1),t&&r("./$.descriptors")){var e=!1;E.resolve(l.setDesc({},"then",{get:function(){e=!0}})),t=e}}catch(e){t=!1}return t}(),S=function(e){var t=d(e)[g];return null!=t?t:e},C=function(e){var t;return!(!c(e)||"function"!=typeof(t=e.then))&&t},k=function(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=f(n),this.reject=f(r)},j=function(e){try{e()}catch(e){return{error:e}}},R=function(l,n){if(!l.n){l.n=!0;var r=l.c;v(function(){for(var a=l.v,s=1==l.s,e=0,t=function(e){var t,n,r=s?e.ok:e.fail,o=e.resolve,i=e.reject;try{r?(s||(l.h=!0),(t=!0===r?a:r(a))===e.promise?i(TypeError("Promise-chain cycle")):(n=C(t))?n.call(t,o,i):o(t)):i(a)}catch(e){i(e)}};r.length>e;)t(r[e++]);r.length=0,l.n=!1,n&&setTimeout(function(){var e,t,n=l.p;O(n)&&(w?x.emit("unhandledRejection",a,n):(e=u.onunhandledrejection)?e({promise:n,reason:a}):(t=u.console)&&t.error&&t.error("Unhandled promise rejection",a)),l.a=void 0},1)})}},O=function(e){var t,n=e._d,r=n.a||n.c,o=0;if(n.h)return!1;for(;r.length>o;)if((t=r[o++]).fail||!O(t.promise))return!1;return!0},M=function(e){var t=this;t.d||(t.d=!0,(t=t.r||t).v=e,t.s=2,t.a=t.c.slice(),R(t,!0))},L=function(e){var n,r=this;if(!r.d){r.d=!0,r=r.r||r;try{if(r.p===e)throw TypeError("Promise can't be resolved itself");(n=C(e))?v(function(){var t={r:r,d:!1};try{n.call(e,a(L,t,1),a(M,t,1))}catch(e){M.call(t,e)}}):(r.v=e,r.s=1,R(r,!1))}catch(e){M.call({r:r,d:!1},e)}}};$||(E=function(e){f(e);var t=this._d={p:h(this,E,y),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(a(L,t,1),a(M,t,1))}catch(e){M.call(t,e)}},r("./$.redefine-all")(E.prototype,{then:function(e,t){var n=new k(b(this,E)),r=n.promise,o=this._d;return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,o.c.push(n),o.a&&o.a.push(n),o.s&&R(o,!1),r},catch:function(e){return this.then(void 0,e)}})),s(s.G+s.W+s.F*!$,{Promise:E}),r("./$.set-to-string-tag")(E,y),r("./$.set-species")(y),o=r("./$.core")[y],s(s.S+s.F*!$,y,{reject:function(e){var t=new k(this);return(0,t.reject)(e),t.promise}}),s(s.S+s.F*(!$||T(!0)),y,{resolve:function(e){if(e instanceof E&&(t=e.constructor,n=this,i&&t===E&&n===o||m(t,n)))return e;var t,n,r=new k(this);return(0,r.resolve)(e),r.promise}}),s(s.S+s.F*!($&&r("./$.iter-detect")(function(e){E.all(e).catch(function(){})})),y,{all:function(e){var i=S(this),t=new k(i),a=t.resolve,s=t.reject,n=[],r=j(function(){p(e,!1,n.push,n);var r=n.length,o=Array(r);r?l.each.call(n,function(e,t){var n=!1;i.resolve(e).then(function(e){n||(n=!0,o[t]=e,--r||a(o))},s)}):a(o)});return r&&s(r.error),t.promise},race:function(e){var t=S(this),n=new k(t),r=n.reject,o=j(function(){p(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o&&r(o.error),n.promise}})},{"./$":49,"./$.a-function":19,"./$.an-object":21,"./$.classof":22,"./$.core":27,"./$.ctx":28,"./$.descriptors":30,"./$.export":32,"./$.for-of":34,"./$.global":35,"./$.is-object":42,"./$.iter-detect":46,"./$.library":50,"./$.microtask":51,"./$.redefine-all":55,"./$.same-value":57,"./$.set-proto":58,"./$.set-species":59,"./$.set-to-string-tag":60,"./$.species-constructor":62,"./$.strict-new":63,"./$.wks":71}],80:[function(e,t,n){"use strict";var r=e("./$.collection-strong");e("./$.collection")("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return r.def(this,e=0===e?0:e,e)}},r)},{"./$.collection":26,"./$.collection-strong":24}],81:[function(e,t,n){"use strict";var r=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},{"./$.iter-define":45,"./$.string-at":64}],82:[function(e,t,n){var r=e("./$.export");r(r.P,"Set",{toJSON:e("./$.collection-to-json")("Set")})},{"./$.collection-to-json":25,"./$.export":32}],83:[function(e,t,n){e("./es6.array.iterator");var r=e("./$.iterators");r.NodeList=r.HTMLCollection=r.Array},{"./$.iterators":48,"./es6.array.iterator":75}],84:[function(e,t,n){var r=e("is-function");t.exports=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this);"[object Array]"===o.call(e)?function(e,t,n){for(var r=0,o=e.length;r<o;r++)i.call(e,r)&&t.call(n,e[r],r,e)}(e,t,n):"string"==typeof e?function(e,t,n){for(var r=0,o=e.length;r<o;r++)t.call(n,e.charAt(r),r,e)}(e,t,n):function(e,t,n){for(var r in e)i.call(e,r)&&t.call(n,e[r],r,e)}(e,t,n)};var o=Object.prototype.toString,i=Object.prototype.hasOwnProperty},{"is-function":86}],85:[function(e,t,n){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],86:[function(e,t,n){t.exports=function(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var r=Object.prototype.toString},{}],87:[function(e,t,n){var a=e("trim"),r=e("for-each");t.exports=function(e){if(!e)return{};var i={};return r(a(e).split("\n"),function(e){var t,n=e.indexOf(":"),r=a(e.slice(0,n)).toLowerCase(),o=a(e.slice(n+1));void 0===i[r]?i[r]=o:(t=i[r],"[object Array]"===Object.prototype.toString.call(t)?i[r].push(o):i[r]=[i[r],o])}),i}},{"for-each":84,trim:88}],88:[function(e,t,n){(n=t.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],89:[function(e,t,n){"use strict";var r=e("global/window"),o=e("is-function"),m=e("parse-headers"),i=e("xtend");function a(e,t,n){var r=e;return o(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=i(t,{uri:e}),r.callback=n,r}function g(e,t,n){return s(t=a(e,t,n))}function s(r){if(void 0===r.callback)throw new Error("callback argument missing");var o=!1,i=function(e,t,n){o||(o=!0,r.callback(e,t,n))};function t(e){return clearTimeout(l),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,i(e,_)}function e(){if(!a){var e;clearTimeout(l),e=r.useXDR&&void 0===s.status?200:1223===s.status?204:s.status;var t=_,n=null;return 0!==e?(t={body:function(){var e=void 0;if(e=s.response?s.response:s.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}(s),p)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:e,method:c,headers:{},url:u,rawRequest:s},s.getAllResponseHeaders&&(t.headers=m(s.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),i(n,t,t.body)}}var n,a,s=r.xhr||null;s||(s=r.cors||r.useXDR?new g.XDomainRequest:new g.XMLHttpRequest);var l,u=s.url=r.uri||r.url,c=s.method=r.method||"GET",d=r.body||r.data,f=s.headers=r.headers||{},h=!!r.sync,p=!1,_={body:void 0,headers:{},statusCode:0,method:c,url:u,rawRequest:s};if("json"in r&&!1!==r.json&&(p=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==c&&"HEAD"!==c&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),d=JSON.stringify(!0===r.json?d:r.json))),s.onreadystatechange=function(){4===s.readyState&&setTimeout(e,0)},s.onload=e,s.onerror=t,s.onprogress=function(){},s.onabort=function(){a=!0},s.ontimeout=t,s.open(c,u,!h,r.username,r.password),h||(s.withCredentials=!!r.withCredentials),!h&&0<r.timeout&&(l=setTimeout(function(){if(!a){a=!0,s.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)}},r.timeout)),s.setRequestHeader)for(n in f)f.hasOwnProperty(n)&&s.setRequestHeader(n,f[n]);else if(r.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(r.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in r&&(s.responseType=r.responseType),"beforeSend"in r&&"function"==typeof r.beforeSend&&r.beforeSend(s),s.send(d||null),s}(t.exports=g).XMLHttpRequest=r.XMLHttpRequest||function(){},g.XDomainRequest="withCredentials"in new g.XMLHttpRequest?g.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(r){g["delete"===r?"del":r]=function(e,t,n){return(t=a(e,t,n)).method=r.toUpperCase(),s(t)}})},{"global/window":85,"is-function":86,"parse-headers":87,xtend:90}],90:[function(e,t,n){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)o.call(n,r)&&(e[r]=n[r])}return e};var o=Object.prototype.hasOwnProperty},{}],91:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/create-class").default,f=e("babel-runtime/helpers/class-call-check").default,o=e("babel-runtime/helpers/interop-require-default").default;Object.defineProperty(n,"__esModule",{value:!0});var h=o(e("xhr")),p=e("./gl/gl"),i=o(e("./gl/Texture")),s=e("./tools/common"),_=e("./tools/mixin"),a=function(){function d(e,t){var r=this;f(this,d),(0,_.subscribeMixin)(this),t=t||{},this.width=e.clientWidth,this.height=e.clientHeight,this.canvas=e,this.gl=void 0,this.program=void 0,this.textures={},this.uniforms={},this.vbo={},this.isValid=!1,this.vertexString=t.vertexString||"\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec2 a_position;\nattribute vec2 a_texcoord;\n\nvarying vec2 v_texcoord;\n\nvoid main() {\n    gl_Position = vec4(a_position, 0.0, 1.0);\n    v_texcoord = a_texcoord;\n}\n",this.fragmentString=t.fragmentString||"\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvarying vec2 v_texcoord;\n\nvoid main(){\n    gl_FragColor = vec4(0.0);\n}\n";var n=(0,p.setupWebGL)(e,t);if(n){if(this.gl=n,this.timeLoad=this.timePrev=performance.now(),this.timeDelta=0,this.forceRender=!0,this.paused=!1,e.style.backgroundColor=t.backgroundColor||"rgba(1,1,1,0)",e.hasAttribute("data-fragment"))this.fragmentString=e.getAttribute("data-fragment");else if(e.hasAttribute("data-fragment-url")){var o=e.getAttribute("data-fragment-url");h.default.get(o,function(e,t,n){r.load(n,r.vertexString)})}if(e.hasAttribute("data-vertex"))this.vertexString=e.getAttribute("data-vertex");else if(e.hasAttribute("data-vertex-url")){o=e.getAttribute("data-vertex-url");h.default.get(o,function(e,t,n){r.load(r.fragmentString,n)})}if(this.load(),this.program){var i=n.getAttribLocation(this.program,"a_texcoord");this.vbo.texCoords=n.createBuffer(),this.gl.bindBuffer(n.ARRAY_BUFFER,this.vbo.texCoords),this.gl.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),n.STATIC_DRAW),this.gl.enableVertexAttribArray(i),this.gl.vertexAttribPointer(i,2,n.FLOAT,!1,0,0);var a=n.getAttribLocation(this.program,"a_position");if(this.vbo.vertices=n.createBuffer(),this.gl.bindBuffer(n.ARRAY_BUFFER,this.vbo.vertices),this.gl.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),n.STATIC_DRAW),this.gl.enableVertexAttribArray(a),this.gl.vertexAttribPointer(a,2,n.FLOAT,!1,0,0),e.hasAttribute("data-textures")){var s=e.getAttribute("data-textures").split(",");for(var l in s)this.setUniform("u_tex"+l,s[l])}var u={x:0,y:0};document.addEventListener("mousemove",function(e){u.x=e.clientX||e.pageX,u.y=e.clientY||e.pageY},!1);var c=this;return this.setMouse({x:0,y:0}),function e(){1<c.nMouse&&c.setMouse(u),c.render(),c.forceRender=c.resize(),window.requestAnimationFrame(e)}(),this}}}return r(d,[{key:"destroy",value:function(){for(var e in this.animated=!1,this.isValid=!1,this.textures)this.gl.deleteTexture(e);for(var t in this.textures={},this.attribs)this.gl.deleteBuffer(this.attribs[t]);this.gl.useProgram(null),this.gl.deleteProgram(this.program),this.program=null,this.gl=null}},{key:"load",value:function(e,t){if(t&&(this.vertexString=t),e&&(this.fragmentString=e),this.animated=!1,this.nDelta=(this.fragmentString.match(/u_delta/g)||[]).length,this.nTime=(this.fragmentString.match(/u_time/g)||[]).length,this.nDate=(this.fragmentString.match(/u_date/g)||[]).length,this.nMouse=(this.fragmentString.match(/u_mouse/g)||[]).length,this.animated=1<this.nDate||1<this.nTime||1<this.nMouse,this.fragmentString.search(/sampler2D/g))for(var n=this.fragmentString.split("\n"),r=0;r<n.length;r++){var o=n[r].match(/uniform\s*sampler2D\s*([\w]*);\s*\/\/\s*([\w|\:\/\/|\.|\-|\_]*)/i);if(o){var i=o[2].split(".").pop().toLowerCase();o[1]&&o[2]&&("jpg"===i||"jpeg"===i||"png"===i||"ogv"===i||"webm"===i||"mp4"===i)&&this.setUniform(o[1],o[2])}if(n[r].match(/\s*void\s*main\s*/g))break}var a=(0,p.createShader)(this,this.vertexString,this.gl.VERTEX_SHADER),s=(0,p.createShader)(this,this.fragmentString,this.gl.FRAGMENT_SHADER);s?this.isValid=!0:(s=(0,p.createShader)(this,"void main(){\n\tgl_FragColor = vec4(1.0);\n}",this.gl.FRAGMENT_SHADER),this.isValid=!1);var l=(0,p.createProgram)(this,[a,s]);this.gl.useProgram(l),this.gl.deleteShader(a),this.gl.deleteShader(s),this.program=l,this.change=!0,this.trigger("load",{}),this.forceRender=!0}},{key:"test",value:function(o,i,a){var s=this.vertexString,l=this.fragmentString,u=this.paused,c=this.gl.getExtension("EXT_disjoint_timer_query"),d=c.createQueryEXT(),f=this.isValid;(i||a)&&(this.load(i,a),f=this.isValid,this.forceRender=!0,this.render()),this.paused=!0,c.beginQueryEXT(c.TIME_ELAPSED_EXT,d),this.forceRender=!0,this.render(),c.endQueryEXT(c.TIME_ELAPSED_EXT);var h=this;!function e(){h.forceRender=!0,h.render();var t=c.getQueryObjectEXT(d,c.QUERY_RESULT_AVAILABLE_EXT),n=h.gl.getParameter(c.GPU_DISJOINT_EXT);if(t&&!n){var r={wasValid:f,frag:i||h.fragmentString,vert:a||h.vertexString,timeElapsedMs:c.getQueryObjectEXT(d,c.QUERY_RESULT_EXT)/1e6};h.paused=u,(i||a)&&h.load(l,s),o(r)}else window.requestAnimationFrame(e)}()}},{key:"loadTexture",value:function(e,t,n){var r=this;n||(n={}),"string"==typeof t?n.url=t:"object"==typeof t&&t.data&&t.width&&t.height?(n.data=t.data,n.width=t.width,n.height=t.height):"object"==typeof t&&(n.element=t),this.textures[e]?this.textures[e]&&(this.textures[e].load(n),this.textures[e].on("loaded",function(e){r.forceRender=!0})):(this.textures[e]=new i.default(this.gl,e,n),this.textures[e].on("loaded",function(e){r.forceRender=!0}))}},{key:"refreshUniforms",value:function(){this.uniforms={}}},{key:"setUniform",value:function(e){for(var t={},n=arguments.length,r=Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t[e]=r,this.setUniforms(t)}},{key:"setUniforms",value:function(e){var t=(0,p.parseUniforms)(e);for(var n in t)"sampler2D"===t[n].type?this.loadTexture(t[n].name,t[n].value[0]):(this.uniform(t[n].method,t[n].type,t[n].name,t[n].value),this.forceRender=!0)}},{key:"setMouse",value:function(e){var t=this.canvas.getBoundingClientRect();e&&e.x&&e.x>=t.left&&e.x<=t.right&&e.y&&e.y>=t.top&&e.y<=t.bottom&&this.uniform("2f","vec2","u_mouse",e.x-t.left,this.canvas.height-(e.y-t.top))}},{key:"uniform",value:function(e,t,n){this.uniforms[n]=this.uniforms[n]||{};for(var r=this.uniforms[n],o=arguments.length,i=Array(3<o?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];((0,s.isDiff)(r.value,i)||this.change||void 0===r.location||void 0===r.value)&&(r.name=n,r.value=i,r.type=t,r.method="uniform"+e,r.location=this.gl.getUniformLocation(this.program,n),this.gl[r.method].apply(this.gl,[r.location].concat(r.value)))}},{key:"uniformTexture",value:function(e,t,n){void 0===this.textures[e]?this.loadTexture(e,t,n):(this.uniform("1i","sampler2D",e,this.texureIndex),this.textures[e].bind(this.texureIndex),this.uniform("2f","vec2",e+"Resolution",this.textures[e].width,this.textures[e].height),this.texureIndex++)}},{key:"resize",value:function(){if(this.width!==this.canvas.clientWidth||this.height!==this.canvas.clientHeight){var e=window.devicePixelRatio||1,t=Math.floor(this.gl.canvas.clientWidth*e),n=Math.floor(this.gl.canvas.clientHeight*e);return this.gl.canvas.width===t&&this.gl.canvas.height===n||(this.gl.canvas.width=t,this.gl.canvas.height=n,this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height)),this.width=this.canvas.clientWidth,this.height=this.canvas.clientHeight,!0}return!1}},{key:"render",value:function(){if(this.visible=(0,s.isCanvasVisible)(this.canvas),this.forceRender||this.animated&&this.visible&&!this.paused){var e=new Date,t=performance.now();for(var n in this.timeDelta=(t-this.timePrev)/1e3,this.timePrev=t,1<this.nDelta&&this.uniform("1f","float","u_delta",this.timeDelta),1<this.nTime&&this.uniform("1f","float","u_time",(t-this.timeLoad)/1e3),this.nDate&&this.uniform("4f","float","u_date",e.getFullYear(),e.getMonth(),e.getDate(),3600*e.getHours()+60*e.getMinutes()+e.getSeconds()+.001*e.getMilliseconds()),this.uniform("2f","vec2","u_resolution",this.canvas.width,this.canvas.height),this.texureIndex=0,this.textures)this.uniformTexture(n);this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.trigger("render",{}),this.change=!1,this.forceRender=!1}}},{key:"pause",value:function(){this.paused=!0}},{key:"play",value:function(){this.paused=!1}},{key:"version",value:function(){return"0.0.25"}}]),d}();n.default=a,window.GlslCanvas=a,window.addEventListener("load",function(){!function(){var e=document.getElementsByClassName("glslCanvas");if(0<e.length){window.glslCanvases=[];for(var t=0;t<e.length;t++){var n=new a(e[t]);n.isValid&&window.glslCanvases.push(n)}}}()}),t.exports=n.default},{"./gl/Texture":92,"./gl/gl":93,"./tools/common":94,"./tools/mixin":95,"babel-runtime/helpers/class-call-check":8,"babel-runtime/helpers/create-class":9,"babel-runtime/helpers/interop-require-default":10,xhr:89}],92:[function(e,t,n){"use strict";var o=e("babel-runtime/helpers/create-class").default,i=e("babel-runtime/helpers/class-call-check").default,l=e("babel-runtime/core-js/promise").default;Object.defineProperty(n,"__esModule",{value:!0});var u=e("../tools/common"),a=e("../tools/mixin"),r=function(){function r(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];i(this,r),(0,a.subscribeMixin)(this),this.gl=e,this.texture=e.createTexture(),this.texture&&(this.valid=!0),this.bind(),this.name=t,this.source=null,this.sourceType=null,this.loading=null,this.setData(1,1,new Uint8Array([0,0,0,255]),{filtering:"linear"}),this.setFiltering(n.filtering),this.load(n)}return o(r,[{key:"destroy",value:function(){this.valid&&(this.gl.deleteTexture(this.texture),this.texture=null,delete this.data,this.data=null,this.valid=!1)}},{key:"bind",value:function(e){this.valid&&("number"==typeof e&&r.activeUnit!==e&&(this.gl.activeTexture(this.gl.TEXTURE0+e),r.activeUnit=e),r.activeTexture!==this.texture&&(this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),r.activeTexture=this.texture))}},{key:"load",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.loading=null,"string"==typeof e.url?void 0!==this.url&&e.url===this.url||this.setUrl(e.url,e):e.element?this.setElement(e.element,e):e.data&&e.width&&e.height&&this.setData(e.width,e.height,e.data,e)}},{key:"setUrl",value:function(i){var a=this,s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(this.valid)return this.url=i,this.source=this.url,this.sourceType="url",this.loading=new l(function(t,e){var n=i.split(".").pop().toLowerCase(),r="ogv"===n||"webm"===n||"mp4"===n,o=void 0;r?((o=document.createElement("video")).autoplay=!0,s.filtering="nearest"):o=new Image,o.onload=function(){try{a.setElement(o,s)}catch(e){console.log("Texture '"+a.name+"': failed to load url: '"+a.source+"'",e,s)}t(a)},o.onerror=function(e){console.log("Texture '"+a.name+"': failed to load url: '"+a.source+"'",e,s),t(a)},(0,u.isSafari)()&&"data:"===a.source.slice(0,5)||(o.crossOrigin="anonymous"),o.src=a.source,r&&a.setElement(o,s)}),this.loading}},{key:"setData",value:function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];return this.width=e,this.height=t,this.source=n,this.sourceType="data",this.update(r),this.setFiltering(r),this.loading=l.resolve(this),this.loading}},{key:"setElement",value:function(e,t){var n=this,r=e;if("string"==typeof e&&(e=document.querySelector(e)),e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof HTMLVideoElement)this.source=e,this.sourceType="element",e instanceof HTMLVideoElement?(e.addEventListener("canplaythrough",function(){n.intervalID=setInterval(function(){n.update(t)},15)},!0),e.addEventListener("ended",function(){e.currentTime=0,e.play()},!0)):this.update(t),this.setFiltering(t);else{var o="the 'element' parameter (`element: "+JSON.stringify(r)+"`) must be a CSS ";o+="selector string, or a <canvas>, <image> or <video> object",console.log("Texture '"+this.name+"': "+o,t)}return this.loading=l.resolve(this),this.loading}},{key:"update",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.valid&&(this.bind(),this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1!==e.UNPACK_FLIP_Y_WEBGL),this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.UNPACK_PREMULTIPLY_ALPHA_WEBGL||!1),"element"===this.sourceType&&(this.source instanceof HTMLCanvasElement||this.source instanceof HTMLVideoElement||this.source instanceof HTMLImageElement&&this.source.complete)?(this.source instanceof HTMLVideoElement?(this.width=this.source.videoWidth,this.height=this.source.videoHeight):(this.width=this.source.width,this.height=this.source.height),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.source)):"data"===this.sourceType&&this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.width,this.height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.source),this.trigger("loaded",this))}},{key:"setFiltering",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(this.valid){this.powerOf2=(0,u.isPowerOf2)(this.width)&&(0,u.isPowerOf2)(this.height);var t=this.powerOf2?"mipmap":"linear";this.filtering=e.filtering||t;var n=this.gl;this.bind(),this.powerOf2?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e.TEXTURE_WRAP_S||e.repeat&&n.REPEAT||n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e.TEXTURE_WRAP_T||e.repeat&&n.REPEAT||n.CLAMP_TO_EDGE),"mipmap"===this.filtering?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.generateMipmap(n.TEXTURE_2D)):"linear"===this.filtering?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR)):"nearest"===this.filtering&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST))):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),"mipmap"===this.filtering&&(this.filtering="linear"),"nearest"===this.filtering?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR)))}}}]),r}();(n.default=r).getMaxTextureSize=function(e){return e.getParameter(e.MAX_TEXTURE_SIZE)},r.activeUnit=-1,t.exports=n.default},{"../tools/common":94,"../tools/mixin":95,"babel-runtime/core-js/promise":6,"babel-runtime/helpers/class-call-check":8,"babel-runtime/helpers/create-class":9}],93:[function(e,t,n){"use strict";var s=e("babel-runtime/helpers/to-consumable-array").default;Object.defineProperty(n,"__esModule",{value:!0}),n.setupWebGL=function(n,e){function t(e){var t=n.parentNode;t&&(t.innerHTML='\n<table style="background-color: #8CE; width: 100%; height: 100%;"><tr>\n<td align="center">\n<div style="display: table-cell; vertical-align: middle;">\n<div style="">'+e+"</div>\n</div>\n</td></tr></table>\n")}if(!window.WebGLRenderingContext)return t(o),null;var r=a(n,e);r||t(i);return r.getExtension("OES_standard_derivatives"),r},n.create3DContext=a,n.createShader=function(e,t,n){var r=e.gl,o=r.createShader(n);if(r.shaderSource(o,t),r.compileShader(o),!r.getShaderParameter(o,r.COMPILE_STATUS))return l=r.getShaderInfoLog(o),console.error("*** Error compiling shader "+o+":"+l),e.trigger("error",{shader:o,source:t,type:n,error:l}),r.deleteShader(o),null;return o},n.createProgram=function(e,t,n,r){for(var o=e.gl,i=o.createProgram(),a=0;a<t.length;++a)o.attachShader(i,t[a]);if(n)for(var a=0;a<n.length;++a)o.bindAttribLocation(i,r?r[a]:a,n[a]);if(o.linkProgram(i),!o.getProgramParameter(i,o.LINK_STATUS))return l=o.getProgramInfoLog(i),console.log("Error in program linking:"+l),o.deleteProgram(i),null;return i},n.parseUniforms=function e(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];var r=[];for(var o in t){var i=t[o],a=void 0;if(n&&(o=n+"."+o),"number"==typeof i)r.push({type:"float",method:"1f",name:o,value:i});else if(Array.isArray(i)){if("number"==typeof i[0])1===i.length?r.push({type:"float",method:"1f",name:o,value:i}):2<=i.length&&i.length<=4?r.push({type:"vec"+i.length,method:i.length+"fv",name:o,value:i}):4<i.length&&r.push({type:"float[]",method:"1fv",name:o+"[0]",value:i});else if("string"==typeof i[0])r.push({type:"sampler2D",method:"1i",name:o,value:i});else if(Array.isArray(i[0])&&"number"==typeof i[0][0]){if(2<=i[0].length&&i[0].length<=4)for(a=0;a<i.length;a++)r.push({type:"vec"+i[0].length,method:i[a].length+"fv",name:o+"["+a+"]",value:i[a]})}else if("object"==typeof i[0])for(a=0;a<i.length;a++)r.push.apply(r,s(e(i[a],o+"["+a+"]")))}else"boolean"==typeof i?r.push({type:"bool",method:"1i",name:o,value:i}):"string"==typeof i?r.push({type:"sampler2D",method:"1i",name:o,value:i}):"object"==typeof i&&r.push.apply(r,s(e(i,o)))}return r};var l="";var o='\n\tThis page requires a browser that supports WebGL.<br/>\n\t<a href="http://get.webgl.org">Click here to upgrade your browser.</a>\n',i='\n\tIt does not appear your computer can support WebGL.<br/>\n\t<a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>\n';function a(e,t){for(var n=["webgl","experimental-webgl"],r=null,o=0;o<n.length;++o)try{r=e.getContext(n[o],t)}catch(e){if(r)break}return r}},{"babel-runtime/helpers/to-consumable-array":11}],94:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/set").default,o=e("babel-runtime/core-js/object/assign").default,d=e("babel-runtime/core-js/get-iterator").default;Object.defineProperty(n,"__esModule",{value:!0}),n.isCanvasVisible=function(e){return 0<e.getBoundingClientRect().top+e.height&&e.getBoundingClientRect().top<(window.innerHeight||document.documentElement.clientHeight)},n.isPowerOf2=function(e){return 0==(e&e-1)},n.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},n.nextHighestPowerOfTwo=function(e){--e;for(var t=1;t<32;t<<=1)e|=e>>t;return e+1},n.FormatNumberLength=function(e,t){var n=e.toString();for(;n.length<t;)n="0"+n;return n},n.getMousePos=function(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}},n.isDiff=function(e,t){if(e&&t)return e.toString()!==t.toString();return!1},n.subscribeMixin=function(e){var c=new r;return o(e,{subscribe:function(e){c.add(e)},on:function(e,t){var n={};n[e]=t,c.add(n)},unsubscribe:function(e){c.delete(e)},unsubscribeAll:function(){c.clear()},trigger:function(e){var t=!0,n=!1,r=void 0;try{for(var o=arguments.length,i=Array(1<o?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];for(var s,l=d(c);!(t=(s=l.next()).done);t=!0){var u=s.value;"function"==typeof u[e]&&u[e].apply(u,i)}}catch(e){n=!0,r=e}finally{try{!t&&l.return&&l.return()}finally{if(n)throw r}}}})}},{"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/object/assign":3,"babel-runtime/core-js/set":7}],95:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/set").default,o=e("babel-runtime/core-js/object/assign").default,m=e("babel-runtime/core-js/get-iterator").default,g=e("babel-runtime/core-js/object/keys").default;Object.defineProperty(n,"__esModule",{value:!0}),n.subscribeMixin=function(e){var _=new r;return o(e,{on:function(e,t){var n={};n[e]=t,_.add(n)},off:function(e,t){if(t){var n={};n[e]=t,_.delete(n)}else{var r=!0,o=!1,i=void 0;try{for(var a,s=m(_);!(r=(a=s.next()).done);r=!0){var l=a.value,u=!0,c=!1,d=void 0;try{for(var f,h=m(g(l));!(u=(f=h.next()).done);u=!0){var p=f.value;if(p===e)return void _.delete(l)}}catch(e){c=!0,d=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw d}}}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}},listSubscriptions:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=m(_);!(e=(r=o.next()).done);e=!0){var i=r.value;console.log(i)}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}},subscribe:function(e){_.add(e)},unsubscribe:function(e){_.delete(e)},unsubscribeAll:function(){_.clear()},trigger:function(e){var t=!0,n=!1,r=void 0;try{for(var o=arguments.length,i=Array(1<o?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];for(var s,l=m(_);!(t=(s=l.next()).done);t=!0){var u=s.value;"function"==typeof u[e]&&u[e].apply(u,i)}}catch(e){n=!0,r=e}finally{try{!t&&l.return&&l.return()}finally{if(n)throw r}}}})}},{"babel-runtime/core-js/get-iterator":2,"babel-runtime/core-js/object/assign":3,"babel-runtime/core-js/object/keys":5,"babel-runtime/core-js/set":7}]},{},[91])(91)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Stats=t()}(this,function(){var c=function(){function e(e){return r.appendChild(e.dom),e}function t(e){for(var t=0;t<r.children.length;t++)r.children[t].style.display=t===e?"block":"none";n=e}var n=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",function(e){e.preventDefault(),t(++n%r.children.length)},!1);var o=(performance||Date).now(),i=o,a=0,s=e(new c.Panel("FPS","#0ff","#002")),l=e(new c.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=e(new c.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:r,addPanel:e,showPanel:t,begin:function(){o=(performance||Date).now()},end:function(){a++;var e=(performance||Date).now();if(l.update(e-o,200),i+1e3<e&&(s.update(1e3*a/(e-i),100),i=e,a=0,u)){var t=performance.memory;u.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){o=this.end()},domElement:r,setMode:t}};return c.Panel=function(n,r,o){var i=1/0,a=0,s=Math.round,l=s(window.devicePixelRatio||1),u=80*l,e=48*l,c=3*l,d=2*l,f=3*l,h=15*l,p=74*l,_=30*l,m=document.createElement("canvas");m.width=u,m.height=e,m.style.cssText="width:80px;height:48px";var g=m.getContext("2d");return g.font="bold "+9*l+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=o,g.fillRect(0,0,u,e),g.fillStyle=r,g.fillText(n,c,d),g.fillRect(f,h,p,_),g.fillStyle=o,g.globalAlpha=.9,g.fillRect(f,h,p,_),{dom:m,update:function(e,t){i=Math.min(i,e),a=Math.max(a,e),g.fillStyle=o,g.globalAlpha=1,g.fillRect(0,0,u,h),g.fillStyle=r,g.fillText(s(e)+" "+n+" ("+s(i)+"-"+s(a)+")",c,d),g.drawImage(m,f+l,h,p-l,_,f,h,p-l,_),g.fillRect(f+p-l,h,l,_),g.fillStyle=o,g.globalAlpha=.9,g.fillRect(f+p-l,h,l,s((1-e/t)*_))}}},c}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.dat=t():e.dat=t()}(this,function(){return function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,o),t.loaded=!0,t.exports}return o.m=n,o.c=r,o.p="",o(0)}([function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=g(n(2)),o=g(n(6)),i=g(n(3)),a=g(n(7)),s=g(n(8)),l=g(n(10)),u=g(n(11)),c=g(n(12)),d=g(n(13)),f=g(n(14)),h=g(n(15)),p=g(n(16)),_=g(n(9)),m=g(n(17));function g(e){return e&&e.__esModule?e:{default:e}}t.default={color:{Color:r.default,math:o.default,interpret:i.default},controllers:{Controller:a.default,BooleanController:s.default,OptionController:l.default,StringController:u.default,NumberController:c.default,NumberControllerBox:d.default,NumberControllerSlider:f.default,FunctionController:h.default,ColorController:p.default},dom:{dom:_.default},gui:{GUI:m.default},GUI:m.default},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(3)),o=s(n(6)),i=s(n(4)),a=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__state=r.default.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return e.prototype.toString=function(){return(0,i.default)(this)},e.prototype.toHexString=function(){return(0,i.default)(this,!0)},e.prototype.toOriginal=function(){return this.__state.conversion.write(this)},e}();function u(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space||l.recalculateRGB(this,t,n),this.__state[t]},set:function(e){"RGB"!==this.__state.space&&(l.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function c(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space||l.recalculateHSV(this),this.__state[t]},set:function(e){"HSV"!==this.__state.space&&(l.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}l.recalculateRGB=function(e,t,n){if("HEX"===e.__state.space)e.__state[t]=o.default.component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");a.default.extend(e.__state,o.default.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},l.recalculateHSV=function(e){var t=o.default.rgb_to_hsv(e.r,e.g,e.b);a.default.extend(e.__state,{s:t.s,v:t.v}),a.default.isNaN(t.h)?a.default.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},l.COMPONENTS=["r","g","b","h","s","v","hex","a"],u(l.prototype,"r",2),u(l.prototype,"g",1),u(l.prototype,"b",0),c(l.prototype,"h"),c(l.prototype,"s"),c(l.prototype,"v"),Object.defineProperty(l.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(l.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=o.default.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),t.default=l,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(4)),o=i(n(5));function i(e){return e&&e.__esModule?e:{default:e}}var a=[{litmus:o.default.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:r.default},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:r.default},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:r.default},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:r.default}}},{litmus:o.default.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:o.default.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:o.default.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(o.default.isNumber(e.r)&&o.default.isNumber(e.g)&&o.default.isNumber(e.b)&&o.default.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(o.default.isNumber(e.r)&&o.default.isNumber(e.g)&&o.default.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(o.default.isNumber(e.h)&&o.default.isNumber(e.s)&&o.default.isNumber(e.v)&&o.default.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(o.default.isNumber(e.h)&&o.default.isNumber(e.s)&&o.default.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],s=void 0,l=void 0;t.default=function(){l=!1;var n=1<arguments.length?o.default.toArray(arguments):arguments[0];return o.default.each(a,function(e){if(e.litmus(n))return o.default.each(e.conversions,function(e,t){if(s=e.read(n),!1===l&&!1!==s)return(l=s).conversionName=t,s.conversion=e,o.default.BREAK}),o.default.BREAK}),l},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){var n=e.__state.conversionName.toString(),r=Math.round(e.r),o=Math.round(e.g),i=Math.round(e.b),a=e.a,s=Math.round(e.h),l=e.s.toFixed(1),u=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var c=e.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===n?"rgb("+r+","+o+","+i+")":"CSS_RGBA"===n?"rgba("+r+","+o+","+i+","+a+")":"HEX"===n?"0x"+e.hex.toString(16):"RGB_ARRAY"===n?"["+r+","+o+","+i+"]":"RGBA_ARRAY"===n?"["+r+","+o+","+i+","+a+"]":"RGB_OBJ"===n?"{r:"+r+",g:"+o+",b:"+i+"}":"RGBA_OBJ"===n?"{r:"+r+",g:"+o+",b:"+i+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+l+",v:"+u+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+l+",v:"+u+",a:"+a+"}":"unknown format"},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0;var a=Array.prototype.forEach,r=Array.prototype.slice,n={BREAK:{},extend:function(n){return this.each(r.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(e){this.isUndefined(t[e])||(n[e]=t[e])}.bind(this))},this),n},defaults:function(n){return this.each(r.call(arguments,1),function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(e){this.isUndefined(n[e])&&(n[e]=t[e])}.bind(this))},this),n},compose:function(){var n=r.call(arguments);return function(){for(var e=r.call(arguments),t=n.length-1;0<=t;t--)e=[n[t].apply(this,e)];return e[0]}},each:function(e,t,n){if(e)if(a&&e.forEach&&e.forEach===a)e.forEach(t,n);else if(e.length===e.length+0){var r,o=void 0;for(o=0,r=e.length;o<r;o++)if(o in e&&t.call(n,e[o],o)===this.BREAK)return}else for(var i in e)if(t.call(n,e[i],i)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(r,o,i){var a=void 0;return function(){var e=this,t=arguments;var n=i||!a;clearTimeout(a),a=setTimeout(function(){a=null,i||r.apply(e,t)},o),n&&r.apply(e,t)}},toArray:function(e){return e.toArray?e.toArray():r.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(e){return isNaN(e)}),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}};t.default=n,e.exports=t.default},function(e,t){"use strict";t.__esModule=!0;var r=void 0,n={hsv_to_rgb:function(e,t,n){var r=Math.floor(e/60)%6,o=e/60-Math.floor(e/60),i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),l=[[n,s,i],[a,n,i],[i,n,s],[i,a,n],[s,i,n],[n,i,a]][r];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,n){var r=Math.min(e,t,n),o=Math.max(e,t,n),i=o-r,a=void 0;return 0===o?{h:NaN,s:0,v:0}:(a=e===o?(t-n)/i:t===o?2+(n-e)/i:4+(e-t)/i,(a/=6)<0&&(a+=1),{h:360*a,s:i/o,v:o/255})},rgb_to_hex:function(e,t,n){var r=this.hex_with_component(0,2,e);return r=this.hex_with_component(r,1,t),r=this.hex_with_component(r,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(r=8*t)|e&~(255<<r)}};t.default=n,e.exports=t.default},function(e,t){"use strict";t.__esModule=!0;var n=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.initialValue=e[t],this.domElement=document.createElement("div"),this.object=e,this.property=t,this.__onChange=void 0,this.__onFinishChange=void 0}return n.prototype.onChange=function(e){return this.__onChange=e,this},n.prototype.onFinishChange=function(e){return this.__onFinishChange=e,this},n.prototype.setValue=function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this},n.prototype.getValue=function(){return this.object[this.property]},n.prototype.updateDisplay=function(){return this},n.prototype.isModified=function(){return this.initialValue!==this.getValue()},n}();t.default=n,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(7)),a=o(n(9));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(o){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,o.call(this,e,t)),r=n;return n.__prev=n.getValue(),n.__checkbox=document.createElement("input"),n.__checkbox.setAttribute("type","checkbox"),a.default.bind(n.__checkbox,"change",function(){r.setValue(!r.__prev)},!1),n.domElement.appendChild(n.__checkbox),n.updateDisplay(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o),i.prototype.setValue=function(e){var t=o.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),t},i.prototype.updateDisplay=function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),o.prototype.updateDisplay.call(this)},i}(r.default);t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(5),c=(r=o)&&r.__esModule?r:{default:r};var d={};c.default.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(e,t){c.default.each(e,function(e){d[e]=t})});var i=/(\d+(\.\d+)?)px/;function a(e){if("0"===e||c.default.isUndefined(e))return 0;var t=e.match(i);return c.default.isNull(t)?0:parseFloat(t[1])}var s={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){var r=n,o=t;c.default.isUndefined(o)&&(o=!0),c.default.isUndefined(r)&&(r=!0),e.style.position="absolute",o&&(e.style.left=0,e.style.right=0),r&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,r){var o=n||{},i=d[t];if(!i)throw new Error("Event type "+t+" not supported.");var a=document.createEvent(i);switch(i){case"MouseEvents":var s=o.x||o.clientX||0,l=o.y||o.clientY||0;a.initMouseEvent(t,o.bubbles||!1,o.cancelable||!0,window,o.clickCount||1,0,0,s,l,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var u=a.initKeyboardEvent||a.initKeyEvent;c.default.defaults(o,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),u(t,o.bubbles||!1,o.cancelable,window,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.keyCode,o.charCode);break;default:a.initEvent(t,o.bubbles||!1,o.cancelable||!0)}c.default.defaults(a,r),e.dispatchEvent(a)},bind:function(e,t,n,r){var o=r||!1;return e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on"+t,n),s},unbind:function(e,t,n,r){var o=r||!1;return e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent&&e.detachEvent("on"+t,n),s},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return s},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),r=n.indexOf(t);-1!==r&&(n.splice(r,1),e.className=n.join(" "))}else e.className=void 0;return s},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return a(t["border-left-width"])+a(t["border-right-width"])+a(t["padding-left"])+a(t["padding-right"])+a(t.width)},getHeight:function(e){var t=getComputedStyle(e);return a(t["border-top-width"])+a(t["border-bottom-width"])+a(t["padding-top"])+a(t["padding-bottom"])+a(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)for(;n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent;);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}};t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(7)),u=o(n(9)),c=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(s){function l(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,s.call(this,e,t)),o=n,i=r;if(r.__select=document.createElement("select"),c.default.isArray(o)){var a={};c.default.each(o,function(e){a[e]=e}),o=a}return c.default.each(o,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),i.__select.appendChild(n)}),r.updateDisplay(),u.default.bind(r.__select,"change",function(){var e=this.options[this.selectedIndex].value;i.setValue(e)}),r.domElement.appendChild(r.__select),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,s),l.prototype.setValue=function(e){var t=s.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),t},l.prototype.updateDisplay=function(){return u.default.isActive(this.__select)?this:(this.__select.value=this.getValue(),s.prototype.updateDisplay.call(this))},l}(r.default);t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(7)),s=o(n(9));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(i){function a(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t)),r=n;function o(){r.setValue(r.__input.value)}return n.__input=document.createElement("input"),n.__input.setAttribute("type","text"),s.default.bind(n.__input,"keyup",o),s.default.bind(n.__input,"change",o),s.default.bind(n.__input,"blur",function(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}),s.default.bind(n.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),n.updateDisplay(),n.domElement.appendChild(n.__input),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i),a.prototype.updateDisplay=function(){return s.default.isActive(this.__input)||(this.__input.value=this.getValue()),i.prototype.updateDisplay.call(this)},a}(r.default);t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(7)),s=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.toString();return-1<t.indexOf(".")?t.length-t.indexOf(".")-1:0}var i=function(i){function a(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t)),o=n||{};return r.__min=o.min,r.__max=o.max,r.__step=o.step,s.default.isUndefined(r.__step)?0===r.initialValue?r.__impliedStep=1:r.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(r.initialValue))/Math.LN10))/10:r.__impliedStep=r.__step,r.__precision=l(r.__impliedStep),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i),a.prototype.setValue=function(e){var t=e;return void 0!==this.__min&&t<this.__min?t=this.__min:void 0!==this.__max&&t>this.__max&&(t=this.__max),void 0!==this.__step&&t%this.__step!=0&&(t=Math.round(t/this.__step)*this.__step),i.prototype.setValue.call(this,t)},a.prototype.min=function(e){return this.__min=e,this},a.prototype.max=function(e){return this.__max=e,this},a.prototype.step=function(e){return this.__step=e,this.__impliedStep=e,this.__precision=l(e),this},a}(r.default);t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(12)),d=o(n(9)),f=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(u){function c(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,u.call(this,e,t,n));r.__truncationSuspended=!1;var o=r,i=void 0;function a(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function s(e){var t=i-e.clientY;o.setValue(o.getValue()+t*o.__impliedStep),i=e.clientY}function l(){d.default.unbind(window,"mousemove",s),d.default.unbind(window,"mouseup",l),a()}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),d.default.bind(r.__input,"change",function(){var e=parseFloat(o.__input.value);f.default.isNaN(e)||o.setValue(e)}),d.default.bind(r.__input,"blur",function(){a()}),d.default.bind(r.__input,"mousedown",function(e){d.default.bind(window,"mousemove",s),d.default.bind(window,"mouseup",l),i=e.clientY}),d.default.bind(r.__input,"keydown",function(e){13===e.keyCode&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1,a())}),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,u),c.prototype.updateDisplay=function(){var e,t,n;return this.__input.value=this.__truncationSuspended?this.getValue():(e=this.getValue(),t=this.__precision,n=Math.pow(10,t),Math.round(e*n)/n),u.prototype.updateDisplay.call(this)},c}(r.default);t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(12)),d=o(n(9));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(u){function c(e,t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,u.call(this,e,t,{min:n,max:r,step:o})),s=i;function a(e){e.preventDefault();var t,n,r,o,i,a=s.__background.getBoundingClientRect();return s.setValue((t=e.clientX,n=a.left,r=a.right,o=s.__min,i=s.__max,o+(t-n)/(r-n)*(i-o))),!1}function l(){d.default.unbind(window,"mousemove",a),d.default.unbind(window,"mouseup",l),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return i.__background=document.createElement("div"),i.__foreground=document.createElement("div"),d.default.bind(i.__background,"mousedown",function(e){document.activeElement.blur(),d.default.bind(window,"mousemove",a),d.default.bind(window,"mouseup",l),a(e)}),d.default.addClass(i.__background,"slider"),d.default.addClass(i.__foreground,"slider-fg"),i.updateDisplay(),i.__background.appendChild(i.__foreground),i.domElement.appendChild(i.__background),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,u),c.prototype.updateDisplay=function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",u.prototype.updateDisplay.call(this)},c}(r.default);t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(7)),s=o(n(9));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(i){function a(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.call(this,e,t)),o=r;return r.__button=document.createElement("div"),r.__button.innerHTML=void 0===n?"Fire":n,s.default.bind(r.__button,"click",function(e){return e.preventDefault(),o.fire(),!1}),s.default.addClass(r.__button,"button"),r.domElement.appendChild(r.__button),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i),a.prototype.fire=function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())},a}(r.default);t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(7)),_=o(n(9)),m=o(n(2)),g=o(n(3)),b=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(h){function p(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,h.call(this,e,t));n.__color=new m.default(n.getValue()),n.__temp=new m.default(0);var o=n;n.domElement=document.createElement("div"),_.default.makeSelectable(n.domElement,!1),n.__selector=document.createElement("div"),n.__selector.className="selector",n.__saturation_field=document.createElement("div"),n.__saturation_field.className="saturation-field",n.__field_knob=document.createElement("div"),n.__field_knob.className="field-knob",n.__field_knob_border="2px solid ",n.__hue_knob=document.createElement("div"),n.__hue_knob.className="hue-knob",n.__hue_field=document.createElement("div"),n.__hue_field.className="hue-field",n.__input=document.createElement("input"),n.__input.type="text",n.__input_textShadow="0 1px 1px ",_.default.bind(n.__input,"keydown",function(e){13===e.keyCode&&l.call(this)}),_.default.bind(n.__input,"blur",l),_.default.bind(n.__selector,"mousedown",function(){_.default.addClass(this,"drag").bind(window,"mouseup",function(){_.default.removeClass(o.__selector,"drag")})});var r,i=document.createElement("div");function a(e){d(e),_.default.bind(window,"mousemove",d),_.default.bind(window,"mouseup",s)}function s(){_.default.unbind(window,"mousemove",d),_.default.unbind(window,"mouseup",s),c()}function l(){var e=(0,g.default)(this.value);!1!==e?(o.__color.__state=e,o.setValue(o.__color.toOriginal())):this.value=o.__color.toString()}function u(){_.default.unbind(window,"mousemove",f),_.default.unbind(window,"mouseup",u),c()}function c(){o.__onFinishChange&&o.__onFinishChange.call(o,o.__color.toOriginal())}function d(e){e.preventDefault();var t=o.__saturation_field.getBoundingClientRect(),n=(e.clientX-t.left)/(t.right-t.left),r=1-(e.clientY-t.top)/(t.bottom-t.top);return 1<r?r=1:r<0&&(r=0),1<n?n=1:n<0&&(n=0),o.__color.v=r,o.__color.s=n,o.setValue(o.__color.toOriginal()),!1}function f(e){e.preventDefault();var t=o.__hue_field.getBoundingClientRect(),n=1-(e.clientY-t.top)/(t.bottom-t.top);return 1<n?n=1:n<0&&(n=0),o.__color.h=360*n,o.setValue(o.__color.toOriginal()),!1}return b.default.extend(n.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),b.default.extend(n.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:n.__field_knob_border+(n.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),b.default.extend(n.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),b.default.extend(n.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),b.default.extend(i.style,{width:"100%",height:"100%",background:"none"}),v(i,"top","rgba(0,0,0,0)","#000"),b.default.extend(n.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(r=n.__hue_field).style.background="",r.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",r.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",b.default.extend(n.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:n.__input_textShadow+"rgba(0,0,0,0.7)"}),_.default.bind(n.__saturation_field,"mousedown",a),_.default.bind(n.__field_knob,"mousedown",a),_.default.bind(n.__hue_field,"mousedown",function(e){f(e),_.default.bind(window,"mousemove",f),_.default.bind(window,"mouseup",u)}),n.__saturation_field.appendChild(i),n.__selector.appendChild(n.__field_knob),n.__selector.appendChild(n.__saturation_field),n.__selector.appendChild(n.__hue_field),n.__hue_field.appendChild(n.__hue_knob),n.domElement.appendChild(n.__input),n.domElement.appendChild(n.__selector),n.updateDisplay(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,h),p.prototype.updateDisplay=function(){var t=(0,g.default)(this.getValue());if(!1!==t){var n=!1;b.default.each(m.default.COMPONENTS,function(e){if(!b.default.isUndefined(t[e])&&!b.default.isUndefined(this.__color.__state[e])&&t[e]!==this.__color.__state[e])return n=!0,{}},this),n&&b.default.extend(this.__color.__state,t)}b.default.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var e=this.__color.v<.5||.5<this.__color.s?255:0,r=255-e;b.default.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+e+","+e+","+e+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,v(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),b.default.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+e+","+e+","+e+")",textShadow:this.__input_textShadow+"rgba("+r+","+r+","+r+",.7)"})},p}(r.default),a=["-moz-","-o-","-webkit-","-ms-",""];function v(t,n,r,o){t.style.background="",b.default.each(a,function(e){t.style.cssText+="background: "+e+"linear-gradient("+n+", "+r+" 0%, "+o+" 100%); "})}t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=l(n(18)),o=l(n(19)),c=l(n(20)),d=l(n(7)),f=l(n(8)),h=l(n(15)),p=l(n(13)),_=l(n(14)),m=l(n(16)),i=l(n(21)),a=l(n(22)),g=l(n(9)),b=l(n(5)),s=l(n(23));function l(e){return e&&e.__esModule?e:{default:e}}r.default.inject(s.default);var v="Default",y=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),x=void 0,w=!0,E=void 0,A=!1,T=[],$=function t(e){var n=this,r=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),g.default.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=b.default.defaults(r,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),r=b.default.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),b.default.isUndefined(r.load)?r.load={preset:v}:r.preset&&(r.load.preset=r.preset),b.default.isUndefined(r.parent)&&r.hideable&&T.push(this),r.resizable=b.default.isUndefined(r.parent)&&r.resizable,r.autoPlace&&b.default.isUndefined(r.scrollable)&&(r.scrollable=!0);var o,i=y&&"true"===localStorage.getItem(R(this,"isLocal")),a=void 0;if(Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},closeOnTop:{get:function(){return r.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:r.load.preset},set:function(e){n.parent?n.getRoot().preset=e:r.load.preset=e,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}(this),n.revert()}},width:{get:function(){return r.width},set:function(e){r.width=e,L(n,e)}},name:{get:function(){return r.name},set:function(e){r.name=e,titleRowName&&(titleRowName.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(e){r.closed=e,r.closed?g.default.addClass(n.__ul,t.CLASS_CLOSED):g.default.removeClass(n.__ul,t.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return i},set:function(e){y&&((i=e)?g.default.bind(window,"unload",a):g.default.unbind(window,"unload",a),localStorage.setItem(R(n,"isLocal"),e))}}}),b.default.isUndefined(r.parent)){if(r.closed=!1,g.default.addClass(this.domElement,t.CLASS_MAIN),g.default.makeSelectable(this.domElement,!1),y&&i){n.useLocalStorage=!0;var s=localStorage.getItem(R(this,"gui"));s&&(r.load=JSON.parse(s))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,g.default.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),r.closeOnTop?(g.default.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(g.default.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),g.default.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{void 0===r.closed&&(r.closed=!0);var l=document.createTextNode(r.name);g.default.addClass(l,"controller-name");var u=S(n,l);g.default.addClass(this.__ul,t.CLASS_CLOSED),g.default.addClass(u,"title"),g.default.bind(u,"click",function(e){return e.preventDefault(),n.closed=!n.closed,!1}),r.closed||(this.closed=!1)}r.autoPlace&&(b.default.isUndefined(r.parent)&&(w&&(E=document.createElement("div"),g.default.addClass(E,"dg"),g.default.addClass(E,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(E),w=!1),E.appendChild(this.domElement),g.default.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||L(n,r.width)),this.__resizeHandler=function(){n.onResizeDebounced()},g.default.bind(window,"resize",this.__resizeHandler),g.default.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),g.default.bind(this.__ul,"transitionend",this.__resizeHandler),g.default.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),r.resizable&&function(t){var n=void 0;function r(e){return e.preventDefault(),t.width+=n-e.clientX,t.onResize(),n=e.clientX,!1}function o(){g.default.removeClass(t.__closeButton,$.CLASS_DRAG),g.default.unbind(window,"mousemove",r),g.default.unbind(window,"mouseup",o)}function e(e){return e.preventDefault(),n=e.clientX,g.default.addClass(t.__closeButton,$.CLASS_DRAG),g.default.bind(window,"mousemove",r),g.default.bind(window,"mouseup",o),!1}t.__resize_handle=document.createElement("div"),b.default.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),g.default.bind(t.__resize_handle,"mousedown",e),g.default.bind(t.__closeButton,"mousedown",e),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}(this),a=function(){y&&"true"===localStorage.getItem(R(n,"isLocal"))&&localStorage.setItem(R(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=a,r.parent||((o=n.getRoot()).width+=1,b.default.defer(function(){o.width-=1}))};function S(e,t,n){var r=document.createElement("li");return t&&r.appendChild(t),n?e.__ul.insertBefore(r,n):e.__ul.appendChild(r),e.onResize(),r}function C(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function k(e,t){var n=e.getRoot(),r=n.__rememberedObjects.indexOf(t.object);if(-1!==r){var o=n.__rememberedObjectIndecesToControllers[r];if(void 0===o&&(o={},n.__rememberedObjectIndecesToControllers[r]=o),o[t.property]=t,n.load&&n.load.remembered){var i=n.load.remembered,a=void 0;if(i[e.preset])a=i[e.preset];else{if(!i[v])return;a=i[v]}if(a[r]&&void 0!==a[r][t.property]){var s=a[r][t.property];t.initialValue=s,t.setValue(s)}}}}function j(e,t,n,r){if(void 0===t[n])throw new Error('Object "'+t+'" has no property "'+n+'"');var o=void 0;if(r.color)o=new m.default(t,n);else{var i=[t,n].concat(r.factoryArgs);o=c.default.apply(e,i)}r.before instanceof d.default&&(r.before=r.before.__li),k(e,o),g.default.addClass(o.domElement,"c");var a=document.createElement("span");g.default.addClass(a,"property-name"),a.innerHTML=o.property;var s=document.createElement("div");s.appendChild(a),s.appendChild(o.domElement);var l=S(e,s,r.before);return g.default.addClass(l,$.CLASS_CONTROLLER_ROW),o instanceof m.default?g.default.addClass(l,"color"):g.default.addClass(l,u(o.getValue())),function(o,t,i){if(i.__li=t,i.__gui=o,b.default.extend(i,{options:function(e){if(1<arguments.length){var t=i.__li.nextElementSibling;return i.remove(),j(o,i.object,i.property,{before:t,factoryArgs:[b.default.toArray(arguments)]})}if(b.default.isArray(e)||b.default.isObject(e)){var n=i.__li.nextElementSibling;return i.remove(),j(o,i.object,i.property,{before:n,factoryArgs:[e]})}},name:function(e){return i.__li.firstElementChild.firstElementChild.innerHTML=e,i},listen:function(){return i.__gui.listen(i),i},remove:function(){return i.__gui.remove(i),i}}),i instanceof _.default){var r=new p.default(i.object,i.property,{min:i.__min,max:i.__max,step:i.__step});b.default.each(["updateDisplay","onChange","onFinishChange","step"],function(e){var t=i[e],n=r[e];i[e]=r[e]=function(){var e=Array.prototype.slice.call(arguments);return n.apply(r,e),t.apply(i,e)}}),g.default.addClass(t,"has-slider"),i.domElement.insertBefore(r.domElement,i.domElement.firstElementChild)}else if(i instanceof p.default){var e=function(e){if(b.default.isNumber(i.__min)&&b.default.isNumber(i.__max)){var t=i.__li.firstElementChild.firstElementChild.innerHTML,n=-1<i.__gui.__listening.indexOf(i);i.remove();var r=j(o,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[i.__min,i.__max,i.__step]});return r.name(t),n&&r.listen(),r}return e};i.min=b.default.compose(e,i.min),i.max=b.default.compose(e,i.max)}else i instanceof f.default?(g.default.bind(t,"click",function(){g.default.fakeEvent(i.__checkbox,"click")}),g.default.bind(i.__checkbox,"click",function(e){e.stopPropagation()})):i instanceof h.default?(g.default.bind(t,"click",function(){g.default.fakeEvent(i.__button,"click")}),g.default.bind(t,"mouseover",function(){g.default.addClass(i.__button,"hover")}),g.default.bind(t,"mouseout",function(){g.default.removeClass(i.__button,"hover")})):i instanceof m.default&&(g.default.addClass(t,"color"),i.updateDisplay=b.default.compose(function(e){return t.style.borderLeftColor=i.__color.toString(),e},i.updateDisplay),i.updateDisplay());i.setValue=b.default.compose(function(e){return o.getRoot().__preset_select&&i.isModified()&&C(o.getRoot(),!0),e},i.setValue)}(e,l,o),e.__controllers.push(o),o}function R(e,t){return document.location.href+"."+t}function O(e,t,n){var r=document.createElement("option");r.innerHTML=t,r.value=t,e.__preset_select.appendChild(r),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function M(e,t){t.style.display=e.useLocalStorage?"block":"none"}function L(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function P(o,i){var a={};return b.default.each(o.__rememberedObjects,function(e,t){var n={},r=o.__rememberedObjectIndecesToControllers[t];b.default.each(r,function(e,t){n[t]=i?e.initialValue:e.getValue()}),a[t]=n}),a}$.toggleHide=function(){A=!A,b.default.each(T,function(e){e.domElement.style.display=A?"none":""})},$.CLASS_AUTO_PLACE="a",$.CLASS_AUTO_PLACE_CONTAINER="ac",$.CLASS_MAIN="main",$.CLASS_CONTROLLER_ROW="cr",$.CLASS_TOO_TALL="taller-than-window",$.CLASS_CLOSED="closed",$.CLASS_CLOSE_BUTTON="close-button",$.CLASS_CLOSE_TOP="close-top",$.CLASS_CLOSE_BOTTOM="close-bottom",$.CLASS_DRAG="drag",$.DEFAULT_WIDTH=245,$.TEXT_CLOSED="Close Controls",$.TEXT_OPEN="Open Controls",$._keydownHandler=function(e){"text"===document.activeElement.type||72!==e.which&&72!==e.keyCode||$.toggleHide()},g.default.bind(window,"keydown",$._keydownHandler,!1),b.default.extend($.prototype,{add:function(e,t){return j(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return j(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;b.default.defer(function(){t.onResize()})},destroy:function(){this.autoPlace&&E.removeChild(this.domElement),g.default.unbind(window,"keydown",$._keydownHandler,!1),g.default.unbind(window,"resize",this.__resizeHandler),this.saveToLocalStorageIfPossible&&g.default.unbind(window,"unload",this.saveToLocalStorageIfPossible)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new $(t),r=S(this,(this.__folders[e]=n).domElement);return g.default.addClass(r,"folder"),n},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=g.default.getOffset(t.__ul).top,n=0;b.default.each(t.__ul.childNodes,function(e){t.autoPlace&&e===t.__save_row||(n+=g.default.getHeight(e))}),window.innerHeight-e-20<n?(g.default.addClass(t.domElement,$.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+"px"):(g.default.removeClass(t.domElement,$.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&b.default.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:b.default.debounce(function(){this.onResize()},50),remember:function(){if(b.default.isUndefined(x)&&((x=new a.default).domElement.innerHTML=o.default),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;b.default.each(Array.prototype.slice.call(arguments),function(e){0===t.__rememberedObjects.length&&function(n){var e=n.__save_row=document.createElement("li");g.default.addClass(n.domElement,"has-save"),n.__ul.insertBefore(e,n.__ul.firstChild),g.default.addClass(e,"save-row");var t=document.createElement("span");t.innerHTML="&nbsp;",g.default.addClass(t,"button gears");var r=document.createElement("span");r.innerHTML="Save",g.default.addClass(r,"button"),g.default.addClass(r,"save");var o=document.createElement("span");o.innerHTML="New",g.default.addClass(o,"button"),g.default.addClass(o,"save-as");var i=document.createElement("span");i.innerHTML="Revert",g.default.addClass(i,"button"),g.default.addClass(i,"revert");var a=n.__preset_select=document.createElement("select");n.load&&n.load.remembered?b.default.each(n.load.remembered,function(e,t){O(n,t,t===n.preset)}):O(n,v,!1);if(g.default.bind(a,"change",function(){for(var e=0;e<n.__preset_select.length;e++)n.__preset_select[e].innerHTML=n.__preset_select[e].value;n.preset=this.value}),e.appendChild(a),e.appendChild(t),e.appendChild(r),e.appendChild(o),e.appendChild(i),y){var s=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage"),u=document.getElementById("dg-save-locally");u.style.display="block","true"===localStorage.getItem(R(n,"isLocal"))&&l.setAttribute("checked","checked"),M(n,s),g.default.bind(l,"change",function(){n.useLocalStorage=!n.useLocalStorage,M(n,s)})}var c=document.getElementById("dg-new-constructor");g.default.bind(c,"keydown",function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||x.hide()}),g.default.bind(t,"click",function(){c.innerHTML=JSON.stringify(n.getSaveObject(),void 0,2),x.show(),c.focus(),c.select()}),g.default.bind(r,"click",function(){n.save()}),g.default.bind(o,"click",function(){var e=prompt("Enter a new preset name.");e&&n.saveAs(e)}),g.default.bind(i,"click",function(){n.revert()})}(t),-1===t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)}),this.autoPlace&&L(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var n=this.load;return n.closed=this.closed,0<this.__rememberedObjects.length&&(n.preset=this.preset,n.remembered||(n.remembered={}),n.remembered[this.preset]=P(this)),n.folders={},b.default.each(this.__folders,function(e,t){n.folders[t]=e.getSaveObject()}),n},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=P(this),C(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[v]=P(this,!0)),this.load.remembered[e]=P(this),O(this,this.preset=e,!0),this.saveToLocalStorageIfPossible()},revert:function(t){b.default.each(this.__controllers,function(e){this.getRoot().load.remembered?k(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())},this),b.default.each(this.__folders,function(e){e.revert(e)}),t||C(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&function e(t){0!==t.length&&i.default.call(window,function(){e(t)});b.default.each(t,function(e){e.updateDisplay()})}(this.__listening)},updateDisplay:function(){b.default.each(this.__controllers,function(e){e.updateDisplay()}),b.default.each(this.__folders,function(e){e.updateDisplay()})}}),t.default=$,e.exports=t.default},function(e,t){"use strict";e.exports={load:function(e,t){var n=t||document,r=n.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,n.getElementsByTagName("head")[0].appendChild(r)},inject:function(e,t){var n=t||document,r=document.createElement("style");r.type="text/css",r.innerHTML=e;var o=n.getElementsByTagName("head")[0];try{o.appendChild(r)}catch(e){}}}},function(e,t){e.exports='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'},function(e,t,n){"use strict";t.__esModule=!0;var r=c(n(10)),o=c(n(13)),i=c(n(14)),a=c(n(11)),s=c(n(15)),l=c(n(8)),u=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var n=e[t];return u.default.isArray(arguments[2])||u.default.isObject(arguments[2])?new r.default(e,t,arguments[2]):u.default.isNumber(n)?u.default.isNumber(arguments[2])&&u.default.isNumber(arguments[3])?u.default.isNumber(arguments[4])?new i.default(e,t,arguments[2],arguments[3],arguments[4]):new i.default(e,t,arguments[2],arguments[3]):u.default.isNumber(arguments[4])?new o.default(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new o.default(e,t,{min:arguments[2],max:arguments[3]}):u.default.isString(n)?new a.default(e,t):u.default.isFunction(n)?new s.default(e,t,""):u.default.isBoolean(n)?new l.default(e,t):null},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(9)),o=i(n(5));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.backgroundElement=document.createElement("div"),o.default.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),r.default.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),o.default.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;r.default.bind(this.backgroundElement,"click",function(){e.hide()})}return t.prototype.show=function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),o.default.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})},t.prototype.hide=function(){var t=this,e=function e(){t.domElement.style.display="none",t.backgroundElement.style.display="none",r.default.unbind(t.domElement,"webkitTransitionEnd",e),r.default.unbind(t.domElement,"transitionend",e),r.default.unbind(t.domElement,"oTransitionEnd",e)};r.default.bind(this.domElement,"webkitTransitionEnd",e),r.default.bind(this.domElement,"transitionend",e),r.default.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},t.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-r.default.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-r.default.getHeight(this.domElement)/2+"px"},t}();t.default=a,e.exports=t.default},function(e,t,n){(e.exports=n(24)()).push([e.id,".dg {\n  /** Clear list styles */\n  /* Auto-place container */\n  /* Auto-placed GUI's */\n  /* Line items that don't contain folders. */\n  /** Folder names */\n  /** Hides closed items */\n  /** Controller row */\n  /** Name-half (left) */\n  /** Controller-half (right) */\n  /** Controller placement */\n  /** Shorter number boxes when slider is present. */\n  /** Ensure the entire boolean and function row shows a hand */\n  /** allow overflow for color selector */ }\n  .dg ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    clear: both; }\n  .dg.ac {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    z-index: 0; }\n  .dg:not(.ac) .main {\n    /** Exclude mains in ac so that we don't hide close button */\n    overflow: hidden; }\n  .dg.main {\n    -webkit-transition: opacity 0.1s linear;\n    -o-transition: opacity 0.1s linear;\n    -moz-transition: opacity 0.1s linear;\n    transition: opacity 0.1s linear; }\n    .dg.main.taller-than-window {\n      overflow-y: auto; }\n      .dg.main.taller-than-window .close-button {\n        opacity: 1;\n        /* TODO, these are style notes */\n        margin-top: -1px;\n        border-top: 1px solid #2c2c2c; }\n    .dg.main ul.closed .close-button {\n      opacity: 1 !important; }\n    .dg.main:hover .close-button,\n    .dg.main .close-button.drag {\n      opacity: 1; }\n    .dg.main .close-button {\n      /*opacity: 0;*/\n      -webkit-transition: opacity 0.1s linear;\n      -o-transition: opacity 0.1s linear;\n      -moz-transition: opacity 0.1s linear;\n      transition: opacity 0.1s linear;\n      border: 0;\n      line-height: 19px;\n      height: 20px;\n      /* TODO, these are style notes */\n      cursor: pointer;\n      text-align: center;\n      background-color: #000; }\n      .dg.main .close-button.close-top {\n        position: relative; }\n      .dg.main .close-button.close-bottom {\n        position: absolute; }\n      .dg.main .close-button:hover {\n        background-color: #111; }\n  .dg.a {\n    float: right;\n    margin-right: 15px;\n    overflow-y: visible; }\n    .dg.a.has-save > ul.close-top {\n      margin-top: 0; }\n    .dg.a.has-save > ul.close-bottom {\n      margin-top: 27px; }\n    .dg.a.has-save > ul.closed {\n      margin-top: 0; }\n    .dg.a .save-row {\n      top: 0;\n      z-index: 1002; }\n      .dg.a .save-row.close-top {\n        position: relative; }\n      .dg.a .save-row.close-bottom {\n        position: fixed; }\n  .dg li {\n    -webkit-transition: height 0.1s ease-out;\n    -o-transition: height 0.1s ease-out;\n    -moz-transition: height 0.1s ease-out;\n    transition: height 0.1s ease-out;\n    -webkit-transition: overflow 0.1s linear;\n    -o-transition: overflow 0.1s linear;\n    -moz-transition: overflow 0.1s linear;\n    transition: overflow 0.1s linear; }\n  .dg li:not(.folder) {\n    cursor: auto;\n    height: 27px;\n    line-height: 27px;\n    padding: 0 4px 0 5px; }\n  .dg li.folder {\n    padding: 0;\n    border-left: 4px solid transparent; }\n  .dg li.title {\n    cursor: pointer;\n    margin-left: -4px; }\n  .dg .closed li:not(.title),\n  .dg .closed ul li,\n  .dg .closed ul li > * {\n    height: 0;\n    overflow: hidden;\n    border: 0; }\n  .dg .cr {\n    clear: both;\n    padding-left: 3px;\n    height: 27px;\n    overflow: hidden; }\n  .dg .property-name {\n    cursor: default;\n    float: left;\n    clear: left;\n    width: 40%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .dg .c {\n    float: left;\n    width: 60%;\n    position: relative; }\n  .dg .c input[type=text] {\n    border: 0;\n    margin-top: 4px;\n    padding: 3px;\n    width: 100%;\n    float: right; }\n  .dg .has-slider input[type=text] {\n    width: 30%;\n    /*display: none;*/\n    margin-left: 0; }\n  .dg .slider {\n    float: left;\n    width: 66%;\n    margin-left: -5px;\n    margin-right: 0;\n    height: 19px;\n    margin-top: 4px; }\n  .dg .slider-fg {\n    height: 100%; }\n  .dg .c input[type=checkbox] {\n    margin-top: 7px; }\n  .dg .c select {\n    margin-top: 5px; }\n  .dg .cr.function,\n  .dg .cr.function .property-name,\n  .dg .cr.function *,\n  .dg .cr.boolean,\n  .dg .cr.boolean * {\n    cursor: pointer; }\n  .dg .cr.color {\n    overflow: visible; }\n  .dg .selector {\n    display: none;\n    position: absolute;\n    margin-left: -9px;\n    margin-top: 23px;\n    z-index: 10; }\n  .dg .c:hover .selector,\n  .dg .selector.drag {\n    display: block; }\n  .dg li.save-row {\n    padding: 0; }\n    .dg li.save-row .button {\n      display: inline-block;\n      padding: 0px 6px; }\n  .dg.dialogue {\n    background-color: #222;\n    width: 460px;\n    padding: 15px;\n    font-size: 13px;\n    line-height: 15px; }\n\n/* TODO Separate style and structure */\n#dg-new-constructor {\n  padding: 10px;\n  color: #222;\n  font-family: Monaco, monospace;\n  font-size: 10px;\n  border: 0;\n  resize: none;\n  box-shadow: inset 1px 1px 1px #888;\n  word-wrap: break-word;\n  margin: 12px 0;\n  display: block;\n  width: 440px;\n  overflow-y: scroll;\n  height: 100px;\n  position: relative; }\n\n#dg-local-explain {\n  display: none;\n  font-size: 11px;\n  line-height: 17px;\n  border-radius: 3px;\n  background-color: #333;\n  padding: 8px;\n  margin-top: 10px; }\n  #dg-local-explain code {\n    font-size: 10px; }\n\n#dat-gui-save-locally {\n  display: none; }\n\n/** Main type */\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;\n  /** Auto place */\n  /* Controller row, <li> */\n  /** Controllers */ }\n  .dg.main {\n    /** Scrollbar */ }\n    .dg.main::-webkit-scrollbar {\n      width: 5px;\n      background: #1a1a1a; }\n    .dg.main::-webkit-scrollbar-corner {\n      height: 0;\n      display: none; }\n    .dg.main::-webkit-scrollbar-thumb {\n      border-radius: 5px;\n      background: #676767; }\n  .dg li:not(.folder) {\n    background: #1a1a1a;\n    border-bottom: 1px solid #2c2c2c; }\n  .dg li.save-row {\n    line-height: 25px;\n    background: #dad5cb;\n    border: 0; }\n    .dg li.save-row select {\n      margin-left: 5px;\n      width: 108px; }\n    .dg li.save-row .button {\n      margin-left: 5px;\n      margin-top: 1px;\n      border-radius: 2px;\n      font-size: 9px;\n      line-height: 7px;\n      padding: 4px 4px 5px 4px;\n      background: #c5bdad;\n      color: #fff;\n      text-shadow: 0 1px 0 #b0a58f;\n      box-shadow: 0 -1px 0 #b0a58f;\n      cursor: pointer; }\n      .dg li.save-row .button.gears {\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\n        height: 7px;\n        width: 8px; }\n      .dg li.save-row .button:hover {\n        background-color: #bab19e;\n        box-shadow: 0 -1px 0 #b0a58f; }\n  .dg li.folder {\n    border-bottom: 0; }\n  .dg li.title {\n    padding-left: 16px;\n    background: #000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\n  .dg .closed li.title {\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\n  .dg .cr.boolean {\n    border-left: 3px solid #806787; }\n  .dg .cr.color {\n    border-left: 3px solid; }\n  .dg .cr.function {\n    border-left: 3px solid #e61d5f; }\n  .dg .cr.number {\n    border-left: 3px solid #2FA1D6; }\n    .dg .cr.number input[type=text] {\n      color: #2FA1D6; }\n  .dg .cr.string {\n    border-left: 3px solid #1ed36f; }\n    .dg .cr.string input[type=text] {\n      color: #1ed36f; }\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\n    background: #111; }\n  .dg .c input[type=text] {\n    background: #303030;\n    outline: none; }\n    .dg .c input[type=text]:hover {\n      background: #3c3c3c; }\n    .dg .c input[type=text]:focus {\n      background: #494949;\n      color: #fff; }\n  .dg .c .slider {\n    background: #303030;\n    cursor: ew-resize; }\n  .dg .c .slider-fg {\n    background: #2FA1D6;\n    max-width: 100%; }\n  .dg .c .slider:hover {\n    background: #3c3c3c; }\n    .dg .c .slider:hover .slider-fg {\n      background: #44abda; }\n",""])},function(e,t){e.exports=function(){var a=[];return a.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},a.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var i=e[r];"number"==typeof i[0]&&n[i[0]]||(t&&!i[2]?i[2]=t:t&&(i[2]="("+i[2]+") and ("+t+")"),a.push(i))}},a}}])});
//# sourceMappingURL=vendors.min.js.map
